<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/markdown/extension/injecting-extensions.md at 2023-02-26
 | Rendered using Apache Maven Fluido Skin 1.11.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>junit-support &#x2013; Injecting extensions</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.11.1.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.11.1.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>junit-support</h1>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-02-26<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.2</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">junit-support</li>
    <li><a href="../index.html" title="Overview"><span class="none"></span>Overview</a></li>
    <li><a href="../download.html" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="https://github.com/robtimus/junit-support/releases" class="externalLink" title="Releases"><span class="none"></span>Releases</a></li>
    <li><a href="../apidocs/index.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
   <li class="nav-header">Extensions</li>
    <li><a href="../extension/test-resource.html" title="@TestResource"><span class="none"></span>@TestResource</a></li>
    <li><a href="../extension/test-logger.html" title="@TestLogger"><span class="none"></span>@TestLogger</a></li>
   <li class="nav-header">Extension Support</li>
    <li><a href="../extension/method-lookup.html" title="MethodLookup"><span class="none"></span>MethodLookup</a></li>
    <li class="active"><a><span class="none"></span>Injection extensions</a></li>
   <li class="nav-header">Various</li>
    <li><a href="../pre-defined-tests.html" title="Pre-defined tests"><span class="none"></span>Pre-defined tests</a></li>
    <li><a href="../assertion-failed-error-builder.html" title="AssertionFailedErrorBuilder"><span class="none"></span>AssertionFailedErrorBuilder</a></li>
    <li><a href="../additional-assertions.html" title="Additional assertions"><span class="none"></span>Additional assertions</a></li>
    <li><a href="../parameterized-test-support.html" title="Parameterized test support"><span class="none"></span>Parameterized test support</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

<section>
<h2><a name="Injecting_extensions"></a>Injecting extensions</h2>
<p>Class <a href="../apidocs/com/github/robtimus/junit/support/extension/InjectingExtension.html">InjectingExtension</a> can be used as base class for JUnit extensions that can inject objects into fields, constructor parameters or method parameters.</p>
<p>To create such an extension:</p>
<ul>

<li>Add a no-argument constructor that passes a field predicate to the <code>InjectingExtension</code> constructor.</li>
<li>Implement <code>validateTarget</code>. This method takes the injection target (see below) and the extension context, and should return an empty <code>Optional</code> if the injection target is valid, or an <code>Optional</code> with a <code>JUnitException</code> otherwise. The exception should be provided by one of the injection target argument's <code>createException</code> methods.</li>
<li>Implement <code>resolveValue</code>. This method takes the injection target and the extension context, and should return the value to inject.</li>
</ul>
<p>The injection target is provided as an instance of class <a href="../apidocs/com/github/robtimus/junit/support/extension/InjectionTarget.html">InjectionTarget</a>, and provides an abstraction of the field, constructor parameter or method parameter. It offers methods to provide the injection target's type, find annotations, or create exceptions without having to know whether the target is a field, a constructor parameter or a method parameter.</p><section>
<h3><a name="Annotation_based_injection"></a>Annotation based injection</h3>
<p>Class <a href="../apidocs/com/github/robtimus/junit/support/extension/AnnotationBasedInjectingExtension.html">AnnotationBasedInjectingExtension</a> extends <code>InjectingExtension</code> and allows injection based on an annotation.</p>
<p>To create such an extension:</p>
<ul>

<li>Add a no-argument constructor that passes the annotation type to the <code>AnnotationBasedInjectingExtension</code> constructor.</li>
<li>Implement <code>validateTarget</code>. This method takes the injection target, the annotation and the extension context, and should return an empty <code>Optional</code> if the injection target is properly annotated, or an <code>Optional</code> with a <code>JUnitException</code> otherwise. The exception should be provided by one of the injection target argument's <code>createException</code> methods.</li>
<li>Implement <code>resolveValue</code>. This method takes the injection target, the annotation and the extension context, and should return the value to inject.</li>
</ul>
<p>For an example extension, see <a class="externalLink" href="https://github.com/robtimus/junit-support/blob/master/src/main/java/com/github/robtimus/junit/support/extension/testresource/TestResourceExtension.java">TestResourceExtension</a>.</p></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2020&#x2013;2023
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>
